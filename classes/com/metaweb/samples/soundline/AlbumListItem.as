////  AlbumListItem//  Created by Ketan Anjaria on 2007-03-13.//  Copyright (c) 2007 __MyCompanyName__. All rights reserved.//package com.metaweb.samples.soundline {	import flash.display.*		import flash.text.*;	import flash.events.*;	import flash.net.*;		import metaliq.core.*	import com.metaweb.*;	import caurina.transitions.*;		public class AlbumListItem extends DynamicListItem {		public var image:ExternalAsset;		public var imageMask:Sprite;		/**		 * Creates a new AlbumListItem component instance.		 * com.metaweb.samples.soundline.AlbumListItem		 */		public function AlbumListItem() { 			super();		}				override protected function configUI() : void {			super.configUI();			useHitRegion = true;			mouseChildren = true;			imageMask.visible = false			label_txt.autoSize = "left";		}				override public function set dataModel(p_dataModel:*):void{			$dataModel = p_dataModel;			label_txt.text = $dataModel.name;		}				override public function draw() : void {			super.draw();		}		public function showAlbum(p_show:Boolean):void{						if(p_show) {				if(image == null) {					image = new ExternalAsset();					image.setSize(100,100)					image.x = 10;					image.addEventListener("complete", onLoadImage, false, 0, true);					image.mask = imageMask;					imageMask.visible = true;					addChild(image)				}													if(!image.isLoaded) {					var images:Array = $dataModel["/common/topic/image"];					loadImage("x")					if(images.length > 0) {						//loadImage(DataManager.getThumbURL(images[0].guid,image.width,image.height))						}				} else {					showImage();				}			} else {				Tweener.addTween(image, { y:0,time:.5, transition:"easeOutBack",delay:index*.06});			}		}				public function loadImage(p_url:String):void{						//image.load(p_url);			image.load("content/outlandos.jpg")			image.visible = false;					}		private function onLoadImage(p_event:Event):void{			showImage()		}		public function showImage():void{			image.visible = true;			var newY:Number = -108;			Tweener.addTween(image, { y:newY,time:.5, transition:"easeOutBack",delay:index*.06});		}	}}
////  QueryEditor//  Created by Ketan Anjaria on 2007-03-01.//  Copyright (c) 2007 __MyCompanyName__. All rights reserved.//package com.metaweb {	import flash.display.*		import flash.text.*;	import flash.events.*;	import flash.net.*;	import flash.utils.*;		import fl.controls.TextArea;		import com.metaweb.*;	import com.adobe.serialization.json.*;	public class QueryEditor extends MovieClip {				public var output_txt:TextArea;		/**		 * Creates a new QueryEditor component instance.		 * com.metaweb.QueryEditor		 */		public function QueryEditor() {			testQuery();			//DataManager.login("fire@kidbombay.com","f8dgel8ve",onLogin);		}		private function onLogin(p_event:Event):void{			log("onLogin = " + onLogin);			var loader:URLLoader = URLLoader(p_event.target);			log("   loader.data = " + loader.data);			var result:Object = JSON.decode(loader.data)	/*			trace(JSON.log(result))*/						testQuery();		}		public function testQuery():void{			var query = {};			query.query = [{	id:null,			    				name:"Titanic",			    				type:"/film/film"}];			/*			{ "query":[{ "/common/topic/image":[{ "guid":null, "limit":1, "optional":true }], "directed_by":[{ "/common/topic/image":[{ "guid":null, "limit":1, "optional":true }], "guid":null, "name":null }], "guid":null, "name":"Footloose", "starring":[{ "actor":{ "/common/topic/image":[{ "guid":null, "limit":1, "optional":true }], "guid":null, "name":null } }], "type":"/film/film" }] }			*/			var query = JSON.decode('{ "query":[{ "/common/topic/image":[{ "guid":null, "limit":1, "optional":true }], "directed_by":[{ "/common/topic/image":[{ "guid":null, "limit":1, "optional":true }], "guid":null, "name":null }], "guid":null, "name":"Footloose", "starring":[{ "actor":{ "/common/topic/image":[{ "guid":null, "limit":1, "optional":true }], "guid":null, "name":null } }], "type":"/film/film" }] }')						getQuery(query)		}		public function getQuery(p_query:Object):void{			DataManager.getQuery(p_query,onGetQuery)		}		private function onGetQuery(p_event:Event):void{			log("onGetQuery = " + onGetQuery);			var loader:URLLoader = URLLoader(p_event.target);			log(loader.data)		}		public function log(s:*):void{			output_txt.text+=s+"\n"			trace(s)		}	}}